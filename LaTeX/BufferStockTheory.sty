\usepackage{datetime2}
\usepackage{refcount}
\usepackage{xr-hyper}
\usepackage{tikz}
\usepackage{pgfkeys}\usepackage{tikz-dependency}
\usepackage{hhline}
\newcommand{\onlyinsubfile}[1]{#1}
\newcommand{\notinsubfile}[1]{}
\newcommand\labelprefix{} % https://tex.stackexchange.com/questions/463699/proper-reference-numbers-with-subfiles
\newcommand\localorexternallabel[1]{%
  \expandafter\ifx\csname r@#1\endcsname\relax
  \labelprefix
  \fi #1%
}


% \begin{Web}
\provideboolean{ifWeb}
\setboolean{ifWeb}{true}
\setboolean{ifWeb}{false}
\opt{Web}{\setboolean{ifWeb}{true}}
\provideboolean{ifBig}   %%%   
\setboolean{ifBig}{true} %%% 
\opt{Biggen}{\setboolean{ifBig}{true}} %%% 
\newcommand{\Biggen}{\ifthenelse{\boolean{ifBig}}{\large}{}} %%% 
% \end{Web}

% Ensure that you're in math mode when using the \cancel command (otherwise tex4ht produces bad output)
\newcommand\cncl[1]{\ensuremath{\cancel{#1}}}

% Define the handles for the various conditions
\newcommand{\PFGPF}{{\mbox{PF-GPF}}}
\newcommand{\PFGIC}{{\mbox{PF-GIC}}}
\newcommand{\AIC}{{\mbox{AIC}}}
\newcommand{\PFFVAC}{{\mbox{PF-FVAC}}}
\newcommand{\PFVAF}{{\mbox{PF-FVAF}}}
\newcommand{\FVAC}{{\mbox{FVAC}}}
\newcommand{\FVAF}{{\mbox{FVAF}}}
\newcommand{\GIC}{{\mbox{GIC}}}
\newcommand{\GICAgg}{{\mbox{GIC-Agg}}}
\newcommand{\RIC}{{\mbox{RIC}}}
\newcommand{\WRIC}{{\mbox{WRIC}}}
\newcommand{\FHWC}{{\mbox{FHWC}}}
\newcommand{\RPF}{{\mbox{RPF}}}
\newcommand{\GPF}{{\mbox{GPF}}}
\newcommand{\GPFAgg}{{\mbox{GPF-Agg}}}
\newcommand{\FHWF}{\mbox{FHWF}}

% Other tools
\newcommand{\BoydT}{\mathsf{T}} % Contraction mapping operator
\newcommand{\Shrinker}{\alpha}  % Contraction mapping shrinker

%% Special characters
%\newcommand{\isp}{\rotatebox[origin=c]{180}{$\psi$}} 

%% Locations of various resources
%%\providecommand{\EqDir}{Equations} % Accessible to Slides; if changed in main text, propagates
%%\providecommand{\FigsRaw}{Code/Mathematica/Results/BufferStockTheory/Figures} % Use figures generated by Mathematica
%%\renewcommand{\FigsRaw}{Code/Python/Figures} % Comment this line to switch to using figs generated by Mathematica
%%\providecommand{\CodeDir}{Code}
%%\providecommand{\CalibrationDir}{Calibration}
%%\providecommand{\TableDir}{Tables}
%%\providecommand{\ApndxDir}{Appendices}

% Appendices and body are subfiles
\usepackage{subfiles}

% Implement a standard setup and shortcuts, e.g. for the \CRRA
\usepackage{\econtexSetup}
\usepackage{\econtexShortcuts}
\usepackage{makecell} 

\provideboolean{Shorter}    % Flag to produce shorter version of paper 
\setboolean{Shorter}{true}
\setboolean{Shorter}{false}
\providecommand{\ShorterYN}{\ifthenelse{\boolean{Shorter}}}

\usepackage{rotating}\usepackage{subfigure}
% Embed metadata 
\hypersetup{pdfauthor={Christopher D. Carroll <ccarroll@jhu.edu>},
            pdftitle={Theoretical Foundations of Buffer Stock Saving},
            pdfkeywords={Precautionary saving, buffer-stock saving, consumption, marginal propensity to consume, permanent income hypothesis},
            pdfcreator = {ccarroll@jhu.edu}
}
\bibliographystyle{\econtexBibStyle}

\newtheorem{defn}{Definition}
\newtheorem{theorem}{Theorem}


\ifthenelse{\boolean{ifWeb}}{}{
\usepackage{ulem}

\makeatletter
\newcommand*{\saved@uline}{}
\let\saved@uline\uline

\newcommand*{\mathuline}{%
  \mathpalette{\math@uline\saved@uline}%
}
\newcommand*{\math@uline}[3]{%
  % #1: ulem command
  % #2: math style
  % #3: contents
  \mbox{#1{$#2#3\m@th$}}%
}

% optional
\renewcommand*{\uline}{%
  \relax  
  \ifmmode
    \expandafter\mathuline
  \else
    \expandafter\saved@uline
  \fi
}
\makeatother
\renewcommand{\PGroAdj}{\uline{\Gamma}}
\renewcommand{\PGrouAdj}{\underline{\uline{\Gamma}}}
%\renewcommand{\InvEpShkInv}{\uline{\uline{\Gamma}}}
\renewcommand{\DiscAltuAdj}{\underline{\uline{\beth}}}
\renewcommand{\PatPGroAdj}{\Pat_{\uline{\Gamma}}}
}
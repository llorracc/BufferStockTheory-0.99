% \input{./econtexRoot}\documentclass[../BufferStockTheory.tex]{subfiles}\input{./econtexRoot}
% \input{\econtexRoot/\ApndxDir/onlyinsubfile.tex}\begin{document}
%   \onlyinsubfile{\externaldocument{BufferStockTheory}}

\documentclass{econtex}
% \renewcommand{\familydefault}{\sfdefault}
\usepackage{econtexShortcuts}\usepackage{econtexSetup}
% Define the handles for the various conditions
\newcommand{\PFGIC}{{\mbox{PF-GIC}}}
\newcommand{\AIC}{{\mbox{AIC}}}
\newcommand{\PFFVAC}{{\mbox{PF-FVAC}}}
\newcommand{\FVAC}{{\mbox{FVAC}}}
\newcommand{\GIC}{{\mbox{GIC}}}
\newcommand{\RIC}{{\mbox{RIC}}}
\newcommand{\WRIC}{{\mbox{WRIC}}}
\newcommand{\FHWC}{{\mbox{FHWC}}}
\newcommand\cncl[1]{\cancel{#1}}
\providecommand{\Rfree}{\ensuremath{\mathsf{R}}}
\providecommand{\DiscFac}{\ensuremath{\beta}} % New
\providecommand{\CRRA}{\ensuremath{\rho}}
\providecommand{\Pat}{\text{\pmb{\Thorn}}}
\newcommand{\PFFVAC}{{\mbox{PF-FVAC}}}

\usepackage{tikz, environ, etoolbox}
% \usetikzlibrary{cd, external}
% \tikzexternalize
% % activate the following such that you can check the macro expansion in
% % *-figure0.md5 manually
% % \tikzset{external/up to date check=diff}

% \def\temp{&} \catcode`&=\active \let&=\temp

\begin{document}
\subsection{Commutative Diagrams for the Perfect Foresight Model}
The diagrams below illustrate the order of the several conditions in the text:

\tikzset{node distance=5cm, auto, >=latex}
\begin{figure}[tbp]
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$\overbrace{\textbf{\Thorn}}^{(\Rfree \DiscFac)^{1/\CRRA} }$};
      \node (gamma) [right of = thorn] {$\Gamma$};
      \node (rfree) [below of = thorn, xshift = 2.5cm, yshift = 
      2.5cm]{$\mathsf{\Rfree}$};
      
      \draw[->] (thorn) to node {$\mathrm{\PFGIC}$} (gamma);
      \draw[->] (thorn) to node [swap] {$\mathrm{\RIC}$} (rfree);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}$} (rfree);
    \end{tikzpicture}
  }
  \caption{\textcolor{red}{Name of diagram 1}}
\end{figure}

An arrow means ``$<$'', which indicates the annotated condition holds; if a condition is violated, the corresponding arrow is to be reversed.

For example, the topmost arrow, labeled {\PFGIC}, corresponds to the proposition that $\Pat < \PGro$ -- the definition
of the $\PFGIC$.  The rightmost arrow imposes $\PGro < \Rfree$ and the leftmost arrow imposes $\Pat < \Rfree$.  Traversing the diagram via the topmost arrow and then the rightmost arrow yields $\Pat < \PGro < \Rfree$ which implies that $\Pat < \Rfree$, yielding the conclusion that the combination of the {\PFGIC} and {\FHWC} conditions implies the {\RIC} condition.

The diagram can be modified to incorporate the and to further incorporate the Perfect Foresight Finite Value of Autarky condition:
\pagebreak
\begin{figure}[tbp]
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$\textbf{\Thorn}$};
      \node (gamma) [right of = thorn] {$\Gamma$};
      \node (rfree) [below of = thorn]{$\mathsf{\Rfree}$};
      \node (pffvacFac) [right of = rfree] 
      {$\underbrace{\mathsf{\Rfree}^{1/\CRRA}\PGro^{1 - 1/\CRRA}}_{\textbf{\Thorn}\DiscFac^{-1/\CRRA}\PGro^{1 - 1/\CRRA}}$};
      
      \draw[->] (thorn) to node {$\mathrm{\PFGIC}$} (gamma);
      \draw[->] (thorn) to node [swap] {$\mathrm{\RIC}$} (rfree);
      \draw[->] (thorn) to node [swap] {$\mathrm{\PFFVAC}$} (pffvacFac);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}$} (pffvacFac);
      \draw[->] (pffvacFac) to node {$\mathrm{\FHWC}$} (rfree);
    \end{tikzpicture}
  }
  \caption{\textcolor{red}{Name of diagram 2}}
\end{figure}
and this tells us, for example, that we can obtain the {\PFFVAC} either traversing the outer edge of the diagram in a clockwise direction (imposing first {\PFGIC} then {\FHWC}), and with the bonus conclusion (bottom arrow, which reimposes the {\FHWC}) that the {\RIC} holds.  Or we can take a shortcut, by imposing the {\PFFAC} directly (going down the diagonal), then imposing the {\FHWC}, which together imply the {\RIC}:
\begin{eqnarray}
  \text{\PFFVAC}: &   \Pat & < \Pat \DiscFac^{-1/\CRRA} \PGro^{1-1/\CRRA} \\
                  & 1 & <  \DiscFac^{-1/\CRRA} \PGro^{1-1/\CRRA} \\
  \text{\FHWC}:   & \PGro & < \Rfree                         
\end{eqnarray}



Alternatively, the counterclockwise trajectory says that we can obtain the {\PFFVAC} by imposing {\RIC} and \cncl{FHWC}. Finally, if we impose the {\PFFVAC} directly, the diagram tells us that this is consistent either with {\FHWC} holding and the {\PFGIC} holding (clockwise trajectory), or the {\RIC} holding but the {\FHWC} failing (\cncl{FHWC}, counterclockwise trajectory).

\begin{eqnarray}
  \text{\RIC} & (\Rfree \DiscFac)^{1/\CRRA} & < \Rfree \\
  \text{\cncl{FHWC}} & \PGro & > \Rfree \\
  & (\Rfree \DiscFac)^{1/\CRRA} & < \Rfree < \PGro \\
  & (\Rfree \DiscFac)^{1/\CRRA}\PGro & < \Rfree/\PGro < 1 \\
  & (\Rfree/\PGro)^{1/\CRRA} \DiscFac^{1/\CRRA}\PGro^{1-1/\CRRA} & < \Rfree/\PGro < 1 \\
\end{eqnarray}

), or (going counterclockwise) by imposing the {\RIC} and the \cncl{FHWC} conditions.

by imposing {\RIC} and {\cncl{FHWC}} or 


\begin{equation}\begin{gathered}\begin{aligned}
  \PGro (\PGro \DiscFac)^{-1/\CRRA} & < 1 \\
  \PGro^{1-\CRRA} \DiscFac & < 1 \\
  % \DiscFac & < \PGro^{\CRRA}  \\
  % \DiscFac^{1/\CRRA} & < \PGro  \\
\end{aligned}\end{gathered}\end{equation}

These diagrams also keep track of the hierarchy among the conditions. For example, if the right vertical arrow in the second diagram is reversed, then the top right triangle says \PFFVAC + \cncl{\FHWC} implies \PFGIC. If the left vertical arrow is reversed, then \cncl{\RIC} + {\PFGIC} implies \cncl{\FHWC}. 

\begin{figure}[tbp]
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$(\Rfree \DiscFac)\textbf{\Thorn}$};
      \node (gamma) [right of = thorn, xshift = 5cm] {$\Gamma$};
      \node (rfree) [below of = thorn]{$\mathsf{\Rfree}$};
      \node (pffvacFac) [right of = rfree] 
      {$\mathsf{\Rfree}^{1/\CRRA}\Gamma^{1 - 
          1/\CRRA}$};
      \node (pThorn) [left of = thorn] {$\pZero^{1/\rho}\textbf{\Thorn}$};
      \node (compgamma) [above of = gamma, xshift = -5cm, yshift = -2.5cm] 
      {$\PGroAdj$};
      \node (fvacFac) [right of = thorn, yshift = -2cm] 
      {$\mathsf{\Rfree}^{1/\CRRA}\PGrouAdj^{1 
          - 1/\CRRA}$};
      
      \draw[->] (thorn) to node {$\mathrm{\PFGIC}$} (gamma);
      \draw[->] (thorn) to node [swap] {$\mathrm{\RIC}$} (rfree);
      \draw[->] (thorn) to node [swap] {$\mathrm{\PFFVAC}$} (pffvacFac);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}$} (pffvacFac);
      \draw[->] (pffvacFac) to node {$\mathrm{\FHWC}$} (rfree);
      \draw[->] (pThorn) to node {} (thorn);
      \draw[->] (pThorn) to node [swap] {$\mathrm{\WRIC}$} (rfree);
      \draw[->] (gamma) to node {} (compgamma);
      \draw[->] (thorn) to node {$\mathrm{\GIC}$} (compgamma);
      \draw[->] (fvacFac) to node {} (pffvacFac);
      \draw[->] (thorn) to node {$\mathrm{\FVAC}$} (fvacFac);
    \end{tikzpicture}	
  }
  \caption{\textcolor{red}{Name of diagram 3}}
\end{figure}

%\onlyinsubfile{\bibliography{\econtexRoot/BufferStockTheory,economics}}


\end{document}
% Local Variables:
% TeX-PDF-mode: t
% TeX-file-line-error: t
% TeX-debug-warnings: t
% LaTeX-command-style: (("" "%(PDF)%(latex) %(file-line-error) %(extraopts) %S%(PDFout)"))
% TeX-source-correlate-mode: t
% TeX-source-correlate-start-server: 0
% TeX-parse-self: t
% eval: (cond ((string-equal system-type "darwin") (progn (setq TeX-view-program-list '(("Skim" "/Applications/Skim.app/Contents/SharedSupport/displayline -b %n %o %b"))))))
% TeX-parse-all-errors: t
% End:

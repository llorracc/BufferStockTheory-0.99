\input{./econtexRoot}\documentclass[\econtexRoot/BufferStockTheory]{subfiles}
\input{./econtexRoot}\input{\LaTeXFiles/econtex_onlyinsubfile}
% \RequirePackage[quiet]{fontspec}
% \RequirePackage[math-style=TeX,vargreek-shape=unicode]{unicode-math}
% \usetikzlibrary{cd}
% \usepackage[utf8]{inputenc}
% \usepackage[OT1,T1]{fontenc}
% \usepackage{tipa}

% \tikzset{every picture/.style={/utils/exec={\tipa}}}
\onlyinsubfile{\externaldocument{BufferStockTheory}}

\begin{document}\label{sec:ApndxConditionDiagrams}

\section{Relational Diagrams for the Inequality Conditions}

\subsection{For the Unconstrained Perfect Foresight Model}

\begin{verbatimwrite}{\FigDir/InequalityPFGICFHWCRIC}
\hypertarget{InequalityPFGICFHWCRIC}{}
\tikzset{node distance=6cm, auto, >=latex}
\begin{figure}[h]
  \label{fig:InequalityPFGICFHWCRIC}
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$\left((\Rfree \DiscFac)^{1/\CRRA} \equiv \right) \Pat$};
      \node (gamma) [right of = thorn] {$\PGro$};
      \node (rfree) [below of = thorn, xshift = 3.35cm, yshift = 3cm]{$\mathsf{\Rfree}$};
      \draw[->] (thorn.north east) to [out = 10,  in=160] node[above]{\PFGIC $\left(\equiv \Pat< \PGro\right) $} (gamma.north west);
      \draw[->] (gamma) to [out = 200, in=-10] node[below]{$\cncl{\PFGIC}$} (thorn); %  \Thorn  > \PGro
      \draw[->] (thorn.south east) to node [swap] {$\left(\Pat < \Rfree \equiv\right) \mathrm{\RIC}$} (rfree);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}\left(\equiv \PGro < \Rfree\right) $} (rfree);
    \end{tikzpicture}
  }
  \caption{Relation of {\RIC}, {\PFGIC}, and {\FHWC} in Perfect Foresight Model}
  \footnotesize{Arrows reflect the direction of the relationship; an arrowhead points to the larger of the two quantities being compared.  For example, the topmost arrow, pointing from $\Pat$ to $\PGro$, indicates that $\PGro > \Pat$.}
\end{figure}
\end{verbatimwrite}
\input{\FigDir/InequalityPFGICFHWCRIC}


Figure~\ref{fig:InequalityPFGICFHWCRIC} should be read as follows.  The three nodes represent the values of the absolute patience factor \Thorn, the growth factor for permanent income $\PGro$, and the riskfree interest factor $\Rfree$.  The arrows between these quantities represent imposition of the labeled condition.  For example, the uppermost arrow, pointing from {$\Pat$} to $\PGro$, reflects imposition of the {\PFGIC} condition.  To make interpretation of the diagram easy, the mathematical representation of the condition is expressed in parentheses as being equivalent ($\equiv$) to the condition.

The imposition of the negation of the $\PFGIC$ (the lower curved arrow pointing from $\PGro$ to {$\Pat$}, labeled \cncl{\PFGIC}) could have been left out, under the convention that the negation of an arrow pointing in one direction is an arrow pointing in the opposite direction.  So, for example, the negation of the {\RIC} is $\cncl{\RIC} \equiv \Pat > \Rfree$ but could be represented by moving the arrowhead from the bottom right to the top left of the line segment connecting {$\Pat$} and $\Rfree$.

Because they reflect inequalities, the implications of the arrows accumulate as the diagram is traversed.  For example, if we were to start at $\Rfree$ and then impose $\cncl{\FHWC}$, that would reverse the arrow connecting $\Rfree$ and $\PGro$.  If we were then to impose $\cncl{\PFGIC}$, we would follow the arrow to {$\Pat$}.  But  
\begin{align}
  \cncl{\FHWC}:~~~~  \Rfree & < \PGro \notag  
  \\ \cncl{\PFGIC}:~~~~ \PGro & < \Pat %~\left(\equiv (\Rfree \DiscFac)^{1/\CRRA}\right)
                                \label{eq:cnclRIC}
  \\ \Rightarrow \cncl{\RIC}:~~~~\Rfree & < \Pat \notag,
\end{align}
which illustrates another aspect of the diagram: If all arrows are reversed in a partial traversal of the diagram leading to a final step, then the arrow for the final step must also be reversed.  In this case, since both conditions leading to $\Rfree$ have had their arrows reversed, the arrow coming out of $\Rfree$ should also be reversed, implying the negation of the {\RIC} -- as \eqref{eq:cnclRIC} proved.

For clarity, further diagrams will omit multiple arrows indicating reversal of causality (in Figure~\ref{fig:InequalityPFGICFHWCRIC} there would, for example, be only a single arrow, from {$\Pat$} to $\PGro$, at the top level of the diagram).  And definitions of conditions will also be omitted henceforth.

Under these conventions, we can extend the diagram to incorporate the $\PFFVAC$ (see Figure~\ref{fig:RelatePFGICFHWCRICPFFVAC}).\footnote{For readers familiar with the \href{https://en.wikipedia.org/wiki/Commutative_diagram}{commutative diagrams}, it should be noted that this diagram is NOT commutative, because the three ways of arriving at the conclusion embodied in the diagonal arrow (the {\PFFVAC}) are NOT identical in their other implications.}
\begin{verbatimwrite}{\FigDir/RelatePFGICFHWCRICPFFVAC}
\tikzset{node distance=5cm, auto, >=latex}
\begin{figure}[h]
  \hypertarget{RelatePFGICFHWCRICPFFVAC}{}
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$\Pat$};
      \node (gamma) [right of = thorn] {$\PGro$};
      \node (rfree) [below of = thorn]{$\mathsf{\Rfree}$};
      \node (pffvacFac) [right of = rfree] 
      {$\Rfree^{1/\CRRA}\PGro^{1 - 1/\CRRA} $}; % \left(\equiv (\Rfree \PGro)^{1/\CRRA}\PGro\right)
      \draw[->] (thorn) to node {$\mathrm{\PFGIC}$} (gamma);
      \draw[->] (thorn) to node [swap] {$\mathrm{\RIC}$} (rfree);
      \draw[->] (thorn) to node [swap] {$\mathrm{\PFFVAC}$} (pffvacFac);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}$} (pffvacFac);
      \draw[->] (pffvacFac) to node {$\mathrm{\FHWC}$} (rfree);
    \end{tikzpicture}
  }
  \caption{Relation of \PFGIC, \FHWC, \RIC, and \PFFVAC} \label{fig:RelatePFGICFHWCRICPFFVAC}
  \footnotesize{Arrows reflect the direction of the relationship; an arrowhead points to the larger of the two quantities being compared.  For example, the topmost arrow, pointing from $\Pat$ to $\PGro$ indicates that $\PGro > \Pat$.}
\end{figure}
\end{verbatimwrite}
\input{\FigDir/RelatePFGICFHWCRICPFFVAC}

This diagram can be interpreted, for example, as saying  that it is possible to derive the $\PFFVAC$\footnote{in the form $\Pat < (\Rfree/\PGro)^{1/\CRRA}\PGro$} by imposing both the {\PFGIC} and the {\FHWC}; or by imposing {\RIC} and \cncl{\FHWC}.  Or, starting at the $\PGro$ node, we can follow the imposition of the {\FHWC} (twice) and then $\cncl{\RIC}$ to reach the conclusion that $\Pat < (\Rfree \PGro)^{1/\CRRA} \PGro$.  Algebraically,
\begin{align}
  {\FHWC}:~~~ \PGro & < \Rfree \notag
  \\ \cncl{\RIC}:~~~ \Rfree & < \Pat \notag
  \\ \PGro & < \Pat \label{eq:cnclPFGIC}
\end{align}
which leads to the negation of the two conditions leading into $\Pat$: \cncl{\PFGIC} is obtained directly by dividing both sides of \eqref{eq:cnclPFGIC} and \cncl{\PFFVAC} follows if we start by multipling the Return Patience Factor ({\RPF}=$\Pat/\Rfree$) by the \FHWF (=$\PGro/\Rfree$) raised to the power $1/\CRRA-1$, which is negative since we imposed $\CRRA > 1$.  {\FHWC} implies {\FHWF} $< 1$ so when {\FHWF} is raised to a negative power the result is greater than one.
Multiplying the \RPF (which exceeds 1 because \cncl{\RIC}) by a number greater than one yields a product that must be greater than one:
\begin{align}
  1  & < \overbrace{\left(\frac{(\Rfree \DiscFac)^{1/\CRRA}}{\Rfree}\right)}^{>1 \text{~from~}\cncl{\RIC}}\overbrace{\left(\PGro/\Rfree\right)^{1/\CRRA-1}}^{\phantom{...}>1~\text{~from~} \FHWC} \notag
  \\ 1  & < \left(\frac{(\Rfree \DiscFac)^{1/\CRRA}}{(\Rfree/\PGro)^{1/\CRRA}\Rfree\PGro/\Rfree}\right) \label{eq:cnclFHWFAndcnclRICImplycnclPFFVAC}
  \\ \Rfree^{1/\CRRA}\PGro^{1 - 1/\CRRA} = (\Rfree/\PGro)^{1/\CRRA} \PGro  & < \Pat \notag
\end{align}
which is one way of writing $\cncl{\PFFVAC}$.

After the warmup of constructing these conditions for the perfect foresight case, we can represent the relationships between all the conditions in both the perfect foresight case and the case with uncertainty as shown in Figure~\ref{fig:Inequalities}.
\begin{verbatimwrite}{\FigDir/Inequalities}
\tikzset{node distance=5cm, auto, >=latex}
\begin{figure}[h]
  \hypertarget{Inequalities}{}
  \centerline{
    \begin{tikzpicture}
      \node (thorn) {$\Pat$};
      \node (gamma) [right of = thorn, xshift = 5cm] {$\PGro$};
      \node (rfree) [below of = thorn]{$\mathsf{\Rfree}$};
      \node (pffvacFac) [right of = rfree] 
      {$\mathsf{\Rfree}^{1/\CRRA}\PGro^{1 - 1/\CRRA}$};
      \node (pThorn) [left of = thorn] {$\pZero^{1/\rho}\Pat$};
      \node (compgamma) [above of = gamma, xshift = -5cm, yshift = -2.5cm]{$\PGroAdj$};
      \node (fvacFac) [right of = thorn, yshift = -2cm]{$\mathsf{\Rfree}^{1/\CRRA}\PGrouAdj^{1 - 1/\CRRA}$};
      \draw[->] (thorn) to node {$\mathrm{\PFGIC}$} (gamma);
      \draw[->] (thorn) to node [swap] {$\mathrm{\RIC}$} (rfree);
      \draw[->] (thorn) to node [swap] {$\mathrm{\PFFVAC}$} (pffvacFac);
      \draw[->] (gamma) to node {$\mathrm{\FHWC}$} (pffvacFac);
      \draw[->] (pffvacFac) to node {$\mathrm{\FHWC}$} (rfree);
      \draw[->] (pThorn) to node {} (thorn);
      \draw[->] (pThorn) to node [swap] {$\mathrm{\WRIC}$} (rfree);
      \draw[->] (gamma) to node {} (compgamma);
      \draw[->] (thorn) to node {$\mathrm{\GIC}$} (compgamma);
      \draw[->] (fvacFac) to node {} (pffvacFac);
      \draw[->] (thorn) to node {$\mathrm{\FVAC}$} (fvacFac);
    \end{tikzpicture}	
  }
  \caption{Relation of All Inequality Conditions} \label{fig:Inequalities}
\end{figure}
\end{verbatimwrite}
\input{\FigDir/Inequalities}

These diagrams also keep track of the hierarchy among the conditions. For example, if the right vertical arrow in the second diagram is reversed, then the top right triangle says \PFFVAC + \cncl{\FHWC} implies \PFGIC. If the left vertical arrow is reversed, then \cncl{\RIC} + {\PFGIC} implies \cncl{\FHWC}. 

%\onlyinsubfile{\bibliography{\LaTeXFiles/BufferStockTheory,economics}}


\end{document}

% Local Variables:
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "Biber"  TeX-command-list)) TeX-command-list))
% eval: (add-to-list 'TeX-command-list '("BibTeX" "bibtex ../LaTeX/%s" TeX-run-BibTeX nil t                                                                              :help "Run BibTeX") t)
% eval: (add-to-list 'TeX-command-list '("BibTeX" "bibtex ../LaTeX/%s" TeX-run-BibTeX nil (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode context-mode) :help "Run BibTeX") t)
% TeX-PDF-mode: t
% TeX-file-line-error: t
% TeX-debug-warnings: t
% LaTeX-command-style: (("" "%(PDF)%(latex) %(file-line-error) %(extraopts) -output-directory=../LaTeX %S%(PDFout)"))
% TeX-source-correlate-mode: t
% TeX-parse-self: t
% eval: (cond ((string-equal system-type "darwin") (progn (setq TeX-view-program-list '(("Skim" "/Applications/Skim.app/Contents/SharedSupport/displayline -b %n ../LaTeX/%o %b"))))))
% TeX-parse-all-errors: t
% End:
